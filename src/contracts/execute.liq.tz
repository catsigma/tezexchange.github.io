parameter (pair (pair key_hash (pair (pair nat tez) (pair nat (pair nat (pair nat tez))))) (pair (map nat (pair nat (pair (pair nat tez) key_hash))) (map key_hash nat))); storage unit; return (pair (list (pair key_hash tez)) (pair (map nat (pair nat (pair (pair nat tez) key_hash))) (map key_hash nat))); code { DUP ; DIP { CDR ; } ; CAR ; DUP ; DUP ; CDR ; DUUP ; CAR ; DUP ; CAR ; DUUP ; CDAR ; CAR ; DUUUP ; CDAR ; CDR ; DUUUUP ; CDDR ; CAR ; DUUUUUP ; CDDR ; CDDR ; DUUUUUUUP ; CAR ; DUUUP ; GET ; IF_NONE { FAIL ; } { DUP ; DUP ; CAR ; DUUP ; CDAR ; CAR ; DUUUP ; CDAR ; CDR ; DUUUUP ; CDDR ; DUUP ; DUUUUUUUUP ; CDR ; COMPARE ; NEQ ; DUUUUP ; DUUUUUUUUUP ; CAR ; COMPARE ; NEQ ; OR ; DUUUUUP ; DUUUUUUUUUUUUUUP ; CDDR ; CDAR ; COMPARE ; NEQ ; OR ; IF { FAIL ; } { PUSH nat 0 ; DUUUUUP ; COMPARE ; EQ ; IF { DUUP ; DUUUUUUUUUUP ; COMPARE ; LE ; IF { DUUUUUUUUUP ; PUSH nat 1000 ; DUUUUP ; MUL ; EDIV ; IF_NONE { FAIL ; } { CAR ; } ; DUP ; PUSH nat 1000 ; DUUUUUUP ; MUL ; EDIV ; IF_NONE { FAIL ; } { CAR ; } ; DIP { DROP ; } ; DUP ; DUUUUUP ; SUB ; DUP ; ABS ; SWAP ; GE ; IF {} { FAIL ; } ; DUUP ; DUUUUUUP ; COMPARE ; EQ ; IF { PUSH (option (pair nat (pair (pair nat tez) key_hash))) None ; } { DUUUP ; DUUUUUUUUUUUUP ; DUUUUUUP ; SUB ; DUUUP ; PAIR ; PAIR ; DUUUUUUUP ; PAIR ; SOME ; } ; DIP { DROP ; } ; DUUUUUUUUUUUUUUUP ; CDR ; DUUUUUUUUUUUUUUUUP ; CAR ; DUUUP ; DIIIP { DROP ; } ; DUUUUUUUUUUUUP ; UPDATE ; PAIR ; SWAP ; DUUUUUUUUUUUUUP ; PAIR ; PAIR ; PUSH (list (pair key_hash tez)) (List) ; DUUUUUUUUUUUP ; DUUUUP ; PAIR ; CONS ; PAIR ; } { FAIL ; } ; } { DUUUP ; DUUUUUUUUUUUP ; COMPARE ; LE ; IF { DUUUUUUUUUUP ; DUUUUP ; SUB ; DUP ; ABS ; SWAP ; GE ; IF {} { FAIL ; } ; DUUUUUUUUUUUP ; PUSH nat 1000 ; DUUUUUUP ; MUL ; EDIV ; IF_NONE { FAIL ; } { CAR ; } ; DUP ; PUSH nat 1000 ; DUUUUUUP ; MUL ; EDIV ; IF_NONE { FAIL ; } { CAR ; } ; DIP { DROP ; } ; DUP ; DUUUUUP ; SUB ; PUSH tez "0" ; DUUP ; COMPARE ; EQ ; IF { PUSH (option (pair nat (pair (pair nat tez) key_hash))) None ; } { DUUUUP ; DUUP ; DUUUUUP ; PAIR ; PAIR ; DUUUUUUUUP ; PAIR ; SOME ; } ; DIP { DROP ; } ; DUUUUUUUUUUUUUUUUP ; CDR ; DUUUUUUUUUUUUUUUUUP ; CAR ; DUUUP ; DIIIP { DROP ; } ; DIIIIP { DROP ; } ; DUUUUUUUUUUUUP ; UPDATE ; PAIR ; DUUUUUUUUUUUUP ; DUUUUP ; PAIR ; PAIR ; PUSH (list (pair key_hash tez)) (List) ; DUUUP ; DIIIP { DROP ; } ; DUUUUUUUUUUUUUUP ; PAIR ; CONS ; PAIR ; } { FAIL ; } ; } ; DUP ; CAR ; DUUP ; CDAR ; DUUUP ; CDDR ; DUP ; CDR ; DUUUP ; CAR ; GET ; IF_NONE { PUSH nat 0 ; } {} ; DUUP ; DUP ; CAR ; SWAP ; DROP ; DUUUP ; DIIIP { DROP ; } ; CDR ; DUUUUP ; CDR ; DUUUUP ; DIIIIP { DROP ; } ; ADD ; SOME ; DUUUUP ; DIIIIP { DROP ; } ; DIIIIIP { DROP ; } ; CAR ; UPDATE ; SWAP ; PAIR ; PUSH unit Unit ; SWAP ; DUUUP ; DIIIP { DROP ; } ; PAIR ; PAIR ; } ; DIP { DROP ; DROP ; DROP ; DROP ; DROP ; DROP ; } ; } ; DIP { DROP ; DROP ; DROP ; DROP ; DROP ; DROP ; DROP ; DROP ; DROP ; DROP ; } ; } 